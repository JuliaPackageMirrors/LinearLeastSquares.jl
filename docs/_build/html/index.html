<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Welcome to LSQ &mdash; LSQ 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="LSQ 0.1 documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="#">LSQ 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="welcome-to-lsq">
<h1>Welcome to LSQ<a class="headerlink" href="#welcome-to-lsq" title="Permalink to this headline">¶</a></h1>
<p>LSQ is a library that makes it easy to formulate and solve least squares
optimization problems with linear equality constraints. With LSQ, these types
of problems can be created using a natural syntax that mirrors standard
mathematical notation. Currently LSQ has been implemented in three different
laguages: Python, Julia, and Matlab.</p>
</div>
<div class="section" id="mathematics-behind-lsq">
<h1>Mathematics behind LSQ<a class="headerlink" href="#mathematics-behind-lsq" title="Permalink to this headline">¶</a></h1>
<p>General equality constrained optimization problems over a variable <span class="math">\(x\)</span>
can be defined as having the following form</p>
<blockquote>
<div><div class="math">
\[\begin{split}\begin{array}{ll}
  \mbox{minimize} &amp; f(x)\\
  \mbox{subject to} &amp; g_i(x) = 0, \ \forall i = 1,2,\ldots
\end{array}\end{split}\]</div>
</div></blockquote>
<p>Here, the function <span class="math">\(f(x)\)</span> is known as the <strong>objective</strong>, and the
equations <span class="math">\(g_i(x) = 0\)</span> are known as the <strong>equality constraints</strong>.
LSQ aims to tackle only one class of such optimization problems, which we will
call <strong>least squares problems</strong>. A least squares problem in the variable
<span class="math">\(x\)</span> can be framed as the following</p>
<blockquote>
<div><div class="math">
\[\begin{split}\begin{array}{ll}
  \mbox{minimize} &amp; \|Ax + b\|_2^2 \\
  \mbox{subject to} &amp; Cx = d
\end{array}\end{split}\]</div>
</div></blockquote>
<p>where <span class="math">\(A, b, C, d\)</span> are constants.
If <span class="math">\(C\)</span> has linearly independent rows and <span class="math">\(Ay \ne 0\)</span> for all
<span class="math">\(y \in \mathcal{N}(C)\)</span>, then solving our original least squares problem
is equivalent to solving the following linear system for variables <span class="math">\(x\)</span>
and <span class="math">\(z\)</span></p>
<blockquote>
<div><div class="math">
\[\begin{split}\begin{bmatrix} 2A^TA &amp; C^T \\ C &amp; 0 \end{bmatrix}
\begin{bmatrix} x \\ z \end{bmatrix} =
\begin{bmatrix} -2A^Tb \\ d \end{bmatrix}\end{split}\]</div>
</div></blockquote>
<p>Furthermore, the solution to this system is guaranteed to be unique, and the
unique <span class="math">\(x\)</span> that solves this system will also be the unique solution to
the original least squares problem. LSQ solves least squares problems by
building this system of linear equations, and then
calling built-in linear equation solvers to solve for <span class="math">\(x\)</span> and <span class="math">\(z\)</span>.
As such, LSQ will fail to solve the problem if the least squares problem does
provide a matrix <span class="math">\(C\)</span> with linearly independent rows and a matrix <span class="math">\(A\)</span>
such that <span class="math">\(Ay \ne 0\)</span> for all <span class="math">\(y \in \mathcal{N}(C)\)</span>.</p>
<p>LSQ defines syntax so that you can easily formulate a least squares problem to
fulfill all of the conditions above.</p>
</div>
<div class="section" id="lsq-jl-basics">
<h1>LSQ.jl Basics<a class="headerlink" href="#lsq-jl-basics" title="Permalink to this headline">¶</a></h1>
<p>Recall that the least squares problem is defined as</p>
<blockquote>
<div><div class="math">
\[\begin{split}\begin{array}{ll}
  \mbox{minimize} &amp; \|Ax + b\|_2^2 \\
  \mbox{subject to} &amp; Cx = d
\end{array}\end{split}\]</div>
</div></blockquote>
<p>We will build up the LSQ syntax, step by step, to eventually create and solve
a problem of this form.</p>
<div class="section" id="variables">
<h2>Variables<a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h2>
<p>One of the goals of solving the least squares problem is to obtain the optimal
values for the variables. To declare variables in LSQ, use the following
syntax to specify their size</p>
<blockquote>
<div><div class="highlight-none"><div class="highlight"><pre>x = Variable(); # A scalar variable
y = Variable(3); # Create a vector variable with 3 rows and 1 columns
z = Variable(10, 4); # A matrix variable that has 10 rows and 4 columns
</pre></div>
</div>
</div></blockquote>
<p>LSQ currently only supports variables up to 2 dimensions in size.</p>
</div>
<div class="section" id="affine-expressions">
<h2>Affine Expressions<a class="headerlink" href="#affine-expressions" title="Permalink to this headline">¶</a></h2>
<p>Affine expression of variables is used to emulate the mathematical concept of
affine transformations on variables. Affine expressions of variables can be
built up following the rules below</p>
<ol class="arabic simple">
<li>Variables are themselves affine expressions</li>
<li>Adding or subtracting two affine expressions yields an affine expression</li>
<li>Adding or subtracting constants from an affine expression yields an affine expression</li>
<li>Multiplying an affine expression by a constant yields an affine expression</li>
</ol>
<p>The most basic way of building affine expressions of variables is to use the
binary arithmetic operators <tt class="docutils literal"><span class="pre">+,</span> <span class="pre">.+,</span> <span class="pre">-,</span> <span class="pre">.-,</span> <span class="pre">*,</span> <span class="pre">\</span></tt>. The <tt class="docutils literal"><span class="pre">+,</span> <span class="pre">-</span></tt> operators
require the left hand side and the right hand side to be of the same size. If
you wish to add or subtract a scalar to an expression of a different size, use
the <tt class="docutils literal"><span class="pre">.+,</span> <span class="pre">.-</span></tt> operators instead.</p>
<blockquote>
<div><div class="highlight-none"><div class="highlight"><pre>x = Variable(3); # A 3-by-1 vector
y = Variable(2); # A 2-by-1 vector
z = Variable(3);
c = [1; 2; 3]; # A 3-by-1 vector
x - z; # Ok
x + y; # Fails, sizes do not match
x - c + z; # Ok

w = Variable(); # A scalar variable
x .+ w; # Ok
y .+ 1; # Ok
</pre></div>
</div>
</div></blockquote>
<p>The multiplication operator <tt class="docutils literal"><span class="pre">*</span></tt> supports both scalar multiplication and
matrix multiplication. Note that affine expressions can only be multiplied by
constants; two affine expressions cannot be multiplied!</p>
<blockquote>
<div><div class="highlight-none"><div class="highlight"><pre>x = Variable(3); # A 3-by-1 vector variable
y = Variable(); # A scalar variable
c = [1; 2; 3]; # A 3-by-1 vector

x * y; # Fails, one must be a constant
5 * x; # Ok
y * c; # Ok

a = [1 2 3 4]; # A 1-by-4 matrix
b = [1 2 3]; # A 1-by-3 matrix
I = eye(3); # A 3-by-3 identity matrix

b * x; # Ok
a * x; # Fails, sizes do not match for matrix multiplication
I * x; # Ok
x * I; # Fails, sizes do not match for matrix multiplication
</pre></div>
</div>
</div></blockquote>
<p>The division operator <tt class="docutils literal"><span class="pre">\</span></tt> functions similarly, except that only scalar
division by a constant is supported.</p>
<blockquote>
<div><div class="highlight-none"><div class="highlight"><pre>x = Variable(3); # A 3-by-1 vector variable
y = Variable(); # A scalar variable
c = [1; 2; 3]; # A 3-by-1 vector

x / 5; # Ok
c / y; # Fails, divisor must be a constant
x / c; # Fails, divisor must be a scalar
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="equality-constraints">
<h2>Equality Constraints<a class="headerlink" href="#equality-constraints" title="Permalink to this headline">¶</a></h2>
<p>The constraints of a least squares problem, <span class="math">\(Cx = d\)</span> is equivalent to the
form <tt class="docutils literal"><span class="pre">affine</span> <span class="pre">expression</span> <span class="pre">=</span> <span class="pre">affine</span> <span class="pre">expression</span></tt>. For example, the equality
constraint involving affine expressions in <span class="math">\(y\)</span> and <span class="math">\(z\)</span> can be
easily transformed to the <span class="math">\(Cx = d\)</span> form</p>
<blockquote>
<div><div class="math">
\[\begin{split}Ay + Bz - k = Dy - h \implies \begin{bmatrix} A - D &amp; B \end{bmatrix}
\begin{bmatrix} y \\ z \end{bmatrix} = k - h\end{split}\]</div>
</div></blockquote>
<p>The &#8216;==&#8217; operator creates equality constraints between two affine expressions.</p>
<blockquote>
<div><div class="highlight-none"><div class="highlight"><pre>x = Variable();
y = Variable();
x == y + 2; # An equality constraint
</pre></div>
</div>
</div></blockquote>
<p>Similar to addition or subtraction, an equality constraint can only be created
if two expressions have equal dimensions or if one expression is a scalar.
In the latter case, each entry of the matrix is set equal to the scalar.</p>
<blockquote>
<div><div class="highlight-none"><div class="highlight"><pre>x = Variable(3, 10)
y = Variable(4, 10)
z = Variable() # A scalar variable

x == y; # Fails
x == y[1:3, :]; # Ok, we dropped the last row from y making it 3-by-10
x == z; # Ok
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="sum-of-squares-expressions">
<h2>Sum of Squares Expressions<a class="headerlink" href="#sum-of-squares-expressions" title="Permalink to this headline">¶</a></h2>
<p>A sum of squares expression is used to emulate the mathematical concept of
norm squared. That is, the expression <span class="math">\(\|Ax + b\|_2^2\)</span> is equivalent to
the following code</p>
<blockquote>
<div><div class="highlight-none"><div class="highlight"><pre>sum_squares(A * x + b)
</pre></div>
</div>
</div></blockquote>
<p>Like affine expressions, sum of squares expressions can be constructed following
certain rules</p>
<ol class="arabic simple">
<li>The argument of a sum of squares expression must be an affine expression</li>
<li>The sum of two sum of squares expressions yields a sum of squares expression</li>
<li>Multiplying a sum of squares expression by a positive constant yields a sum of squares expression</li>
</ol>
<p>Since the output of a sum of squares expression is a scalar value, there are no
size restrictions when adding two sum of squares expressions</p>
<blockquote>
<div><div class="highlight-none"><div class="highlight"><pre>y = Variable(18);
z = Variable(20);

sum_squares(y) + sum_squares(z); # Ok, internal argument sizes don&#39;t matter
10 * sum_squares(z); # Ok
-1 * sum_squares(z); # Fails, multiplication must be by positive scalar
</pre></div>
</div>
</div></blockquote>
<p>Any sum of squares expression is equivalent to some mathematical expression of
the form <span class="math">\(\|Ax + b\|_2^2\)</span>. Adding sum of squares expressions or
multiplying them by positive constants will preseve this property.</p>
<blockquote>
<div><div class="math">
\[\begin{split}\begin{align*}
\|Ey + f\|_2^2 + \|Gz + h\|_2^2 &amp; =
\left\| \begin{bmatrix}E &amp; 0 \\ 0 &amp; G\end{bmatrix}
\begin{bmatrix}y \\ z\end{bmatrix} +
\begin{bmatrix} f \\ h\end{bmatrix} \right\|_2^2 \\
c\|Ax + b\|_2^2 &amp; = \left\|\sqrt{c}Ax + \sqrt{c}b\right\|_2^2
\end{align*}\end{split}\]</div>
</div></blockquote>
</div>
<div class="section" id="solve-functions">
<h2>Solve Functions<a class="headerlink" href="#solve-functions" title="Permalink to this headline">¶</a></h2>
<p>At the top level, LSQ provides functions for solving least</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to LSQ</a></li>
<li><a class="reference internal" href="#mathematics-behind-lsq">Mathematics behind LSQ</a></li>
<li><a class="reference internal" href="#lsq-jl-basics">LSQ.jl Basics</a><ul>
<li><a class="reference internal" href="#variables">Variables</a></li>
<li><a class="reference internal" href="#affine-expressions">Affine Expressions</a></li>
<li><a class="reference internal" href="#equality-constraints">Equality Constraints</a></li>
<li><a class="reference internal" href="#sum-of-squares-expressions">Sum of Squares Expressions</a></li>
<li><a class="reference internal" href="#solve-functions">Solve Functions</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="#">LSQ 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Keegan Go, Karanveer Mohan, David Zeng.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>